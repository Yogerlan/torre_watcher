<div class="container mt-5">
    <h1>Jobs Dashboard</h1>
    <section id="categories" class="mt-5">
        <h2 class="mb-4">Skills Categories Distribution</h2>
        <p>
            Skills trends grouped by category based on mentions in job posts.
            Ten categories are arbitrarily generated by AI, based on skills relationships and commonalities.
        </p>
        <p>
            <strong>{{ skills.length }}</strong> skills in total.
            <strong>{{ total() }}</strong> mentions in job posts.
        </p>
        <section class="border p-4 mb-4 rounded-5 d-flex justify-content-center">
            @if (categories.length === 0) {
            <p class="placeholder-glow w-100 mb-0">
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
                <span class="placeholder col-12"></span>
            </p>
            }
            <canvas id="categories-chart" [class.d-none]="categories.length === 0"></canvas>
        </section>
    </section>

    @for (category of categories; track category.name) {
    <app-category-chart [category]="category"></app-category-chart>
    }
</div>